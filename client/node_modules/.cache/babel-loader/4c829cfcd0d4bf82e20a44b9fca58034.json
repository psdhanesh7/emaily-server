{"ast":null,"code":"import _regeneratorRuntime from\"/home/nihara/Documents/GitHub/emaily-server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/nihara/Documents/GitHub/emaily-server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/nihara/Documents/GitHub/emaily-server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import axios from'axios';import{Table}from\"react-bootstrap\";import\"./History.css\";import Nav from'../Navigationbar/Navigationbar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function History(_ref){var token=_ref.token;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),mails=_useState2[0],setMails=_useState2[1];useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios({method:'GET',url:'http://localhost:3000/api/emails/history',headers:{authorization:\"BEARER \".concat(token)}});case 2:res=_context.sent;console.log(res.data);if(res.data.success){setMails(res.data.emails);}case 5:case\"end\":return _context.stop();}}},_callee);})),[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsx(\"h2\",{className:\"heading\",children:\"History\"}),/*#__PURE__*/_jsxs(Table,{hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"To\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Subject\"}),/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{children:\"Time\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:mails.map(function(data,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/selectedmailhistory\",children:/*#__PURE__*/_jsx(\"button\",{children:index+1})})}),/*#__PURE__*/_jsx(\"td\",{children:data.recipients.map(function(data,index){return/*#__PURE__*/_jsxs(\"div\",{children:[data,\" \"]},index);})}),/*#__PURE__*/_jsx(\"td\",{colSpan:\"3\",children:data.subject}),/*#__PURE__*/_jsx(\"td\",{children:data.sentDate})]},index);})})]})]});}","map":{"version":3,"sources":["/home/nihara/Documents/GitHub/emaily-server/client/src/components/History/History.js"],"names":["React","useState","useEffect","axios","Table","Nav","History","token","mails","setMails","method","url","headers","authorization","res","console","log","data","success","emails","map","index","recipients","subject","sentDate"],"mappings":"wfAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,KAAT,KAAsB,iBAAtB,CACA,MAAO,eAAP,CACA,MAAOC,CAAAA,GAAP,KAAgB,gCAAhB,C,wFAEA,cAAe,SAASC,CAAAA,OAAT,MAA4B,IAATC,CAAAA,KAAS,MAATA,KAAS,CAEzC,cAA0BN,QAAQ,CAAC,EAAD,CAAlC,wCAAOO,KAAP,eAAcC,QAAd,eAEAP,SAAS,sEAAC,iKACUC,CAAAA,KAAK,CAAC,CACtBO,MAAM,CAAE,KADc,CAEtBC,GAAG,CAAE,0CAFiB,CAGtBC,OAAO,CAAE,CACPC,aAAa,kBAAYN,KAAZ,CADN,CAHa,CAAD,CADf,QACFO,GADE,eAQRC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,EACA,GAAGH,GAAG,CAACG,IAAJ,CAASC,OAAZ,CAAqB,CACnBT,QAAQ,CAACK,GAAG,CAACG,IAAJ,CAASE,MAAV,CAAR,CACD,CAXO,sDAAD,GAYN,EAZM,CAAT,CAcA,mBACE,aAAK,SAAS,CAAC,iBAAf,wBACE,KAAC,GAAD,IADF,cAEE,WAAI,SAAS,CAAC,SAAd,qBAFF,cAGE,MAAC,KAAD,EAAO,KAAK,KAAZ,wBACE,oCACE,mCACE,yBADF,cAEE,0BAFF,cAGE,+BAHF,cAIE,aAJF,cAKE,aALF,cAME,4BANF,GADF,EADF,cAWE,uBACGX,KAAK,CAACY,GAAN,CAAU,SAACH,IAAD,CAAOI,KAAP,qBACT,mCACE,iCAAI,UAAG,IAAI,CAAC,sBAAR,uBAA+B,wBAASA,KAAK,CAAG,CAAjB,EAA/B,EAAJ,EADF,cAEE,oBACGJ,IAAI,CAACK,UAAL,CAAgBF,GAAhB,CAAoB,SAACH,IAAD,CAAOI,KAAP,qBACnB,uBAAkBJ,IAAlB,OAAUI,KAAV,CADmB,EAApB,CADH,EAFF,cAOE,WAAI,OAAO,CAAC,GAAZ,UAAiBJ,IAAI,CAACM,OAAtB,EAPF,cAQE,oBAAKN,IAAI,CAACO,QAAV,EARF,GAASH,KAAT,CADS,EAAV,CADH,EAXF,GAHF,GADF,CAgCD","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport { Table } from \"react-bootstrap\";\nimport \"./History.css\";\nimport Nav from '../Navigationbar/Navigationbar'\n\nexport default function History({ token }) {\n\n  const [mails, setMails] = useState([]);\n\n  useEffect(async () => {\n    const res = await axios({\n      method: 'GET',\n      url: 'http://localhost:3000/api/emails/history',\n      headers: {\n        authorization: `BEARER ${token}`\n      }\n    });\n    console.log(res.data);\n    if(res.data.success) {\n      setMails(res.data.emails)\n    }\n  }, [])\n\n  return (\n    <div className=\"container-fluid\">\n      <Nav/>\n      <h2 className=\"heading\">History</h2>\n      <Table hover>\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>To</th>\n            <th>Subject</th>\n            <th></th>\n            <th></th>\n            <th>Time</th>\n          </tr>\n        </thead>\n        <tbody>\n          {mails.map((data, index) => (\n            <tr key={index}>\n              <td><a href=\"/selectedmailhistory\"><button>{index + 1}</button></a></td>\n              <td>\n                {data.recipients.map((data, index) => (\n                  <div key={index}>{data} </div>\n                ))}\n              </td>\n              <td colSpan=\"3\">{data.subject}</td>\n              <td>{data.sentDate}</td>\n            </tr>\n          ))}\n        </tbody>\n      </Table>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}