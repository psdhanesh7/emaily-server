{"ast":null,"code":"import _regeneratorRuntime from\"/home/dhanesh/Documents/emaily-server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/dhanesh/Documents/emaily-server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/dhanesh/Documents/emaily-server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import'./Login.css';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faGoogle}from'@fortawesome/free-brands-svg-icons';import axios from'axios';import{useHistory}from'react-router';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(_ref){var setToken=_ref.setToken;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setusername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var history=useHistory();var handleSignIn=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();console.log(username,password);_context.next=4;return axios.post('/auth/login',{email:username,password:password});case 4:res=_context.sent;console.log(res.data.token);localStorage.setItem('token',res.data.token);window.location.assign('/home');case 8:case\"end\":return _context.stop();}}},_callee);}));return function handleSignIn(_x){return _ref2.apply(this,arguments);};}();var handleGoogleAuth=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get('/auth/google');case 2:res=_context2.sent;console.log(res.data.token);localStorage.setItem('token',res.data.token);window.location.assign('/home');case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function handleGoogleAuth(_x2){return _ref3.apply(this,arguments);};}();var handleSignUp=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.post('/auth/signup',{email:username,password:password});case 2:res=_context3.sent;if(res.data.success){window.location.assign('/');}else{console.log(res);}case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function handleSignUp(_x3){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 mx-auto p-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"login-box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-snip\",children:[\" \",/*#__PURE__*/_jsx(\"input\",{id:\"tab-1\",type:\"radio\",name:\"tab\",className:\"sign-in\",checked:true}),/*#__PURE__*/_jsx(\"label\",{for:\"tab-1\",className:\"tab\",children:\"Login\"}),\" \",/*#__PURE__*/_jsx(\"input\",{id:\"tab-2\",type:\"radio\",name:\"tab\",className:\"sign-up\"}),/*#__PURE__*/_jsx(\"label\",{for:\"tab-2\",className:\"tab\",children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-space\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"group\",children:[\" \",/*#__PURE__*/_jsx(\"label\",{for:\"user\",className:\"label\",children:\"Email Address\"}),\" \",/*#__PURE__*/_jsx(\"input\",{id:\"user\",type:\"text\",className:\"input\",placeholder:\"Enter your email address\",value:username,onChange:function onChange(e){return setusername(e.target.value);}}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"group\",children:[\" \",/*#__PURE__*/_jsx(\"label\",{for:\"pass\",className:\"label\",children:\"Password\"}),\" \",/*#__PURE__*/_jsx(\"input\",{id:\"pass\",type:\"password\",className:\"input\",\"data-type\":\"password\",placeholder:\"Enter your password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"group\",children:[\" \",/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"button\",value:\"Sign In\",onClick:handleSignIn}),\" \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"group\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/auth/google\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"button\",type:\"submit\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faGoogle,style:{marginRight:\"10%\",fontSize:\"1.5rem\"}}),/*#__PURE__*/_jsx(\"span\",{className:\"buttonText\",children:\"Sign in with Google\"})]})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"hr\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"group\",children:[\" \",/*#__PURE__*/_jsx(\"label\",{for:\"user\",className:\"label\",children:\"Email Address\"}),\" \",/*#__PURE__*/_jsx(\"input\",{id:\"user\",type:\"text\",className:\"input\",placeholder:\"Enter your email address\",value:username,onChange:function onChange(e){return setusername(e.target.value);}}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"group\",children:[\" \",/*#__PURE__*/_jsx(\"label\",{for:\"pass\",className:\"label\",children:\"Password\"}),\" \",/*#__PURE__*/_jsx(\"input\",{id:\"pass\",type:\"password\",className:\"input\",\"data-type\":\"password\",placeholder:\"Create your password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),\" \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"sign\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"group\",children:[\" \",/*#__PURE__*/_jsx(\"input\",{type:\"submit\",onClick:handleSignUp,className:\"button\",value:\"Sign Up\"}),\" \"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"hr\"})]})]})]})})})})})});}","map":{"version":3,"sources":["/home/dhanesh/Documents/emaily-server/client/src/components/Login/Login.js"],"names":["React","useState","FontAwesomeIcon","faGoogle","axios","useHistory","Login","setToken","username","setusername","password","setPassword","history","handleSignIn","e","preventDefault","console","log","post","email","res","data","token","localStorage","setItem","window","location","assign","handleGoogleAuth","get","handleSignUp","success","target","value","marginRight","fontSize"],"mappings":"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","sourcesContent":["import React , {useState} from 'react'\nimport './Login.css'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faGoogle} from '@fortawesome/free-brands-svg-icons'\nimport axios from 'axios';\nimport { useHistory } from 'react-router';\n\n\nexport default function Login({ setToken }) {\n    const [username, setusername] = useState('');\n    const [password,setPassword] = useState('');\n\n    const history = useHistory();\n\n    const handleSignIn = async (e) => {\n        e.preventDefault();\n        \n        console.log(username, password);\n        const res = await axios.post('/auth/login', { email: username, password });\n        console.log(res.data.token);\n        localStorage.setItem('token', res.data.token)\n      \n        window.location.assign('/home');\n    }\n\n    const handleGoogleAuth = async (e) => {\n        const res = await axios.get('/auth/google');\n        console.log(res.data.token);\n        localStorage.setItem('token', res.data.token)\n      \n        window.location.assign('/home');\n    }\n\n    const handleSignUp = async (e) => {\n        const res = await axios.post('/auth/signup', { email: username, password });\n        if(res.data.success) {\n            window.location.assign('/');\n        } else {\n            console.log(res);\n        }\n    }\n\n    return (\n        \n        <div>\n            <div className=\"row\">\n                <div className=\"col-md-6 mx-auto p-0\">\n                    <div className=\"card\">\n                        <div className=\"login-box\">\n                            <div className=\"login-snip\"> <input id=\"tab-1\" type=\"radio\" name=\"tab\" className=\"sign-in\" checked/><label for=\"tab-1\" className=\"tab\">Login</label> <input id=\"tab-2\" type=\"radio\" name=\"tab\" className=\"sign-up\"/><label for=\"tab-2\" className=\"tab\">Sign Up</label>\n                                <div className=\"login-space\">\n                                    <div className=\"login\">\n                                        <div className=\"group\"> <label for=\"user\" className=\"label\">Email Address</label> <input id=\"user\" type=\"text\" className=\"input\" placeholder=\"Enter your email address\" value={username} onChange = {(e) => setusername(e.target.value)}/> </div>\n                                        <div className=\"group\"> <label for=\"pass\" className=\"label\">Password</label> <input id=\"pass\" type=\"password\" className=\"input\" data-type=\"password\" placeholder=\"Enter your password\" value={password} onChange = {(e) => setPassword(e.target.value)}/> </div>\n                                        <div className=\"sign\">  \n                                        <div className=\"group\"> <input type=\"submit\" className=\"button\" value=\"Sign In\" onClick={handleSignIn}/> </div>\n                                        <div className=\"group\"><a href=\"/auth/google\"><button  className=\"button\" type=\"submit\"><FontAwesomeIcon icon={faGoogle} style={{marginRight:\"10%\",fontSize:\"1.5rem\"}}  /><span className=\"buttonText\">Sign in with Google</span></button></a></div>\n                                        </div>\n                                        <div className=\"hr\"></div>\n                                        {/* <div className=\"foot\"> <a href=\"#\">Forgot Password?</a> </div> */}\n                                    </div>\n                                    <div className=\"sign-up-form\">\n                                        <div className=\"group\"> <label for=\"user\" className=\"label\">Email Address</label> <input id=\"user\" type=\"text\" className=\"input\" placeholder=\"Enter your email address\" value={username} onChange = {(e) => setusername(e.target.value)}/> </div>\n                                        <div className=\"group\"> <label for=\"pass\" className=\"label\">Password</label> <input id=\"pass\" type=\"password\" className=\"input\" data-type=\"password\" placeholder=\"Create your password\"value={password} onChange = {(e) => setPassword(e.target.value)}/> </div>\n                                   \n                                        {/* <div className=\"group\"> <label for=\"pass\" className=\"label\">Email Address</label> <input id=\"pass\" type=\"text\" className=\"input\" placeholder=\"Enter your email address\"/> </div > */}\n                                        <div className=\"sign\"> \n                                        <div className=\"group\"> <input type=\"submit\" onClick={handleSignUp} className=\"button\" value=\"Sign Up\"/> </div></div>\n                                        <div className=\"hr\"></div>\n                                        {/* <div className=\"foot\"> <label for=\"tab-1\">Already Member?</label> </div> */}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}