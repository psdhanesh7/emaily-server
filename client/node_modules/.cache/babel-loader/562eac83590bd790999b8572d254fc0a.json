{"ast":null,"code":"import _defineProperty from\"/home/dhanesh/Documents/emaily-server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/dhanesh/Documents/emaily-server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/dhanesh/Documents/emaily-server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/dhanesh/Documents/emaily-server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/dhanesh/Documents/emaily-server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import'./Compose.css';import'bootstrap/dist/css/bootstrap.min.css';import axios from'axios';import Nav from'../Navigationbar/Navigationbar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Compose(_ref){var token=_ref.token;useEffect(function(token){console.log('Token',token);});var _useState=useState({to:'',cc:[],subject:'',type:'',mailbody:'',day:'',date:'',month:'',time:''}),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setinput=_useState2[1];var scheduleMails=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(url,schedule){var options,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:options={headers:{authorization:\"BEARER \".concat(token)}};_context.next=3;return axios.post(url,{recipients:\"\".concat(input.to,\", \").concat(input.cc),subject:input.subject,body:input.mailbody,schedule:schedule},options);case 3:res=_context.sent;console.log(res);if(res.data&&res.data.success){console.log('Mail send success');console.log(res.data);window.location.assign('compose/alertsuccess');}else{// failure redirect\nconsole.log(res);window.location.assign('compose/alertfailure');}console.log(res);case 7:case\"end\":return _context.stop();}}},_callee);}));return function scheduleMails(_x,_x2){return _ref2.apply(this,arguments);};}();var onSubmit=function onSubmit(e){console.log(input);e.preventDefault();{/* --- METHOD TO SEND THE MAIL --- */}switch(input.t){case'recurring':// do the processing here\nscheduleMails('/api/emails/recurring',{timeGap:30});break;case'weekly':return scheduleMails('/api/emails/weekly',{day:input.day,time:input.time});break;case'monthly':scheduleMails('/api/emails/monthly',{date:input.date,time:input.time});break;case'yearly':scheduleMails('/emails/yearlyy',{month:input.month,date:input.date,time:input.time});break;default:console.log('Select type');}};var handleChange=function handleChange(e){setinput(_objectSpread(_objectSpread({},input),{},_defineProperty({},e.target.name,e.target.value)));};//   const handleChangecc = (e) =>{\n//     setinput({ ...input, [e.target.name]: e.target.value.split(',').map(s => s.trim()) });\n//   };\nvar s=function s(t){if(t=='monthly'){return/*#__PURE__*/_jsxs(\"div\",{className:\"sch\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"sc\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"input\",{id:\"i\",type:\"text\",name:\"date\",onChange:handleChange,value:input.date})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"sc\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Time\"}),/*#__PURE__*/_jsx(\"input\",{id:\"i\",type:\"text\",name:\"time\",onChange:handleChange,value:input.time})]})]});}if(t=='weekly'){return/*#__PURE__*/_jsxs(\"div\",{className:\"sch\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"sc\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Day\"}),/*#__PURE__*/_jsx(\"input\",{id:\"i\",type:\"text\",name:\"day\",onChange:handleChange,value:input.day})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"sc\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Time\"}),/*#__PURE__*/_jsx(\"input\",{id:\"i\",type:\"text\",name:\"time\",onChange:handleChange,value:input.time})]})]});}if(t=='yearly'){return/*#__PURE__*/_jsxs(\"div\",{className:\"sch\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"sc\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"input\",{id:\"i\",type:\"text\",name:\"date\",onChange:handleChange,value:input.date})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"sc\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Month\"}),/*#__PURE__*/_jsx(\"input\",{id:\"i\",type:\"text\",name:\"month\",onChange:handleChange,value:input.month})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"sc\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Time\"}),/*#__PURE__*/_jsx(\"input\",{id:\"i\",type:\"text\",name:\"time\",onChange:handleChange,value:input.time})]})]});}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsx(\"div\",{class:\"col-md-6 b\",children:/*#__PURE__*/_jsx(\"div\",{class:\"panel panel-default\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"panel-body message\",children:[/*#__PURE__*/_jsx(\"p\",{class:\"text-center\",children:\"New Message\"}),/*#__PURE__*/_jsxs(\"form\",{class:\"form-horizontal\",role:\"form\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",className:\"input\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"to\",class:\"col-sm-1 control-label\",children:\"To:\"}),/*#__PURE__*/_jsx(\"div\",{class:\"col-sm-11\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",class:\"form-control select2-offscreen\",id:\"to\",placeholder:\"Type email\",tabindex:\"-1\",name:\"to\",value:input.to,onChange:handleChange})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",className:\"input\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"cc\",class:\"col-sm-1 control-label\",children:\"CC:\"}),/*#__PURE__*/_jsx(\"div\",{class:\"col-sm-11\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",class:\"form-control select2-offscreen\",id:\"cc\",placeholder:\"Type email\",tabindex:\"-1\",name:\"cc\",value:input.cc,onChange:handleChange})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",className:\"input\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"bcc\",class:\"col-sm-1 control-label\",children:\"Sub:\"}),/*#__PURE__*/_jsx(\"div\",{class:\"col-sm-11\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",class:\"form-control select2-offscreen\",id:\"bcc\",placeholder:\"Subject\",tabindex:\"-1\",name:\"subject\",value:input.subject,onChange:handleChange})})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-sm-11 col-sm-offset-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"schedule\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Schedule:\"}),/*#__PURE__*/_jsx(\"div\",{class:\"form-group\",id:\"w\",children:/*#__PURE__*/_jsxs(\"select\",{name:\"t\",onChange:handleChange,value:input.t,children:[/*#__PURE__*/_jsx(\"option\",{name:\"t\",value:\"----\",children:\"----\"}),/*#__PURE__*/_jsx(\"option\",{name:\"t\",value:\"weekly\",children:\"Weekly\"}),/*#__PURE__*/_jsx(\"option\",{name:\"t\",value:\"monthly\",children:\"Monthly\"}),/*#__PURE__*/_jsx(\"option\",{name:\"t\",value:\"yearly\",children:\"Yearly\"}),/*#__PURE__*/_jsx(\"option\",{name:\"t\",value:\"recurring\",children:\"Recurring\"})]})}),s(input.t)]}),/*#__PURE__*/_jsx(\"div\",{class:\"form-group\",className:\"mailbody\",children:/*#__PURE__*/_jsx(\"textarea\",{class:\"form-control\",id:\"message\",name:\"mailbody\",rows:\"12\",placeholder:\"Click here to reply\",value:input.mailbody,onChange:handleChange})}),/*#__PURE__*/_jsx(\"div\",{class:\"form-group\",className:\"send\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",class:\"btn btn-success\",onClick:onSubmit,children:\"Send\"})})]})]})})})]});}","map":{"version":3,"sources":["/home/dhanesh/Documents/emaily-server/client/src/components/Compose/Compose.js"],"names":["React","useEffect","useState","axios","Nav","Compose","token","console","log","to","cc","subject","type","mailbody","day","date","month","time","input","setinput","scheduleMails","url","schedule","options","headers","authorization","post","recipients","body","res","data","success","window","location","assign","onSubmit","e","preventDefault","t","timeGap","handleChange","target","name","value","s"],"mappings":"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","sourcesContent":["import React , {useEffect, useState} from 'react'\nimport './Compose.css'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport axios from 'axios'\nimport Nav from '../Navigationbar/Navigationbar'\n\n\nexport default function Compose({token}) {\n\n    useEffect((token) => {\n        console.log('Token', token);\n    })\n\n    const [input, setinput] = useState({\n        to:'',\n        cc:[],\n        subject:'',\n        type:'',\n        mailbody:'',\n        day:'',\n        date:'',\n        month:'',\n        time: ''\n      });\n\n    const scheduleMails = async (url, schedule) => {\n\n        const options = {\n            headers: { authorization: `BEARER ${token}`}\n        };\n\n        const res = await axios.post(url, {\n                recipients: `${input.to}, ${input.cc}`,\n                subject: input.subject,\n                body: input.mailbody,\n                schedule \n            },\n            options\n        );\n\n        console.log(res);\n\n\n        if(res.data && res.data.success) {\n            console.log('Mail send success');\n            console.log(res.data);\n            window.location.assign('compose/alertsuccess')\n        } else {\n            // failure redirect\n            console.log(res);\n            window.location.assign('compose/alertfailure')\n        }\n\n        console.log(res);\n    }\n    \n     const onSubmit = (e) => {\n        console.log(input);\n        e.preventDefault();\n        {/* --- METHOD TO SEND THE MAIL --- */}\n\n        switch(input.t) {\n            case 'recurring':\n                // do the processing here\n                scheduleMails('/api/emails/recurring', { timeGap: 30 });\n                break;\n            case 'weekly':\n                return scheduleMails(\n                    '/api/emails/weekly', \n                    { \n                        day: input.day, \n                        time: input.time \n                    }\n                );\n                break;\n            case 'monthly':\n                scheduleMails(\n                    '/api/emails/monthly', \n                    { \n                        date: input.date,\n                        time: input.time \n                    }\n                );\n                break;\n            case 'yearly':\n                scheduleMails(\n                    '/emails/yearlyy', \n                    { \n                        month: input.month, \n                        date: input.date, \n                        time: input.time \n                    }\n                );\n                break;\n            default:\n                console.log('Select type');\n        }        \n      };\n    \n      const handleChange = (e) => {\n        setinput({ ...input, [e.target.name]: e.target.value });\n        \n      };\n    //   const handleChangecc = (e) =>{\n    //     setinput({ ...input, [e.target.name]: e.target.value.split(',').map(s => s.trim()) });\n\n    //   };\n      const s = (t) =>{\n          if(t == 'monthly'){\n              \n              \n              return(<div className=\"sch\">\n                  <div id=\"sc\">\n                  <label>Date</label>\n                    <input id=\"i\"  type=\"text\" name=\"date\" onChange={handleChange} value={input.date}></input>\n                    </div>\n                    <div id=\"sc\">\n                    <label>Time</label>\n                            <input id=\"i\"type=\"text\" name='time' onChange={handleChange} value={input.time}></input>\n                            </div>\n              </div>);}\n           if(t == 'weekly'){\n               return(\n                <div className=\"sch\">\n                    <div id=\"sc\">\n                    <label>Day</label>\n                    <input id=\"i\" type=\"text\" name='day' onChange={handleChange} value={input.day}></input>\n                    </div>\n                    <div id=\"sc\">\n                    <label>Time</label>\n                            <input id=\"i\" type=\"text\" name='time' onChange={handleChange} value={input.time}></input>               \n                    </div>\n                </div>\n               );\n           } \n           if(t=='yearly'){\n               return(\n                   <div className=\"sch\">\n                       <div id=\"sc\">\n                    <label>Date</label>\n                    <input id=\"i\" type=\"text\" name=\"date\" onChange={handleChange} value={input.date}></input>\n                    </div>\n                    <div id=\"sc\">\n                    <label>Month</label>\n                    <input id=\"i\" type=\"text\" name='month' onChange={handleChange} value={input.month}></input>\n                    </div>\n                    <div id=\"sc\">\n                    <label>Time</label>\n                            <input id=\"i\" type=\"text\" name='time' onChange={handleChange} value={input.time}></input>\n                            </div>\n                   </div>\n               )\n           }\n\n          \n      };\n    return (\n        \n\n        <div>\n            <Nav />\n            <div class=\"col-md-6 b\">\n                <div class=\"panel panel-default\">\n                    <div class=\"panel-body message\">\n                        <p class=\"text-center\">New Message</p>\n                        <form class=\"form-horizontal\" role=\"form\">\n                            <div class=\"form-group\" className=\"input\">\n                                <label for=\"to\" class=\"col-sm-1 control-label\">To:</label>\n                                <div class=\"col-sm-11\">\n                                    <input type=\"email\" class=\"form-control select2-offscreen\" id=\"to\" placeholder=\"Type email\" tabindex=\"-1\" name=\"to\" value={input.to} onChange={handleChange}/>\n                                </div>\n                            </div>\n                            <div class=\"form-group\" className=\"input\">\n                                <label for=\"cc\" class=\"col-sm-1 control-label\">CC:</label>\n                                <div class=\"col-sm-11\">\n                                    <input type=\"email\" class=\"form-control select2-offscreen\" id=\"cc\" placeholder=\"Type email\" tabindex=\"-1\" name=\"cc\" value={input.cc}\n                            onChange={handleChange}/>\n                                </div>\n                            </div>\n                            <div class=\"form-group\" className=\"input\">\n                                <label for=\"bcc\" class=\"col-sm-1 control-label\">Sub:</label>\n                                <div class=\"col-sm-11\">\n                                    <input type=\"email\" class=\"form-control select2-offscreen\" id=\"bcc\" placeholder=\"Subject\" tabindex=\"-1\" name=\"subject\" value={input.subject}\n                            onChange={handleChange}/>\n                                </div>\n                            </div>\n                        \n                        </form>\n                        \n                        <div class=\"col-sm-11 col-sm-offset-1\">\n                            \n                            \n                            \n\n                            <div className=\"schedule\">\n                                <p>Schedule:</p>\n                            <div class=\"form-group\" id=\"w\">\n                                <select name ='t'  onChange={handleChange}  value={input.t}>\n                                <option name = 't' value=\"----\">----</option>\n                                <option name = 't' value=\"weekly\">Weekly</option>\n                                <option name = 't' value=\"monthly\">Monthly</option>\n                                <option name = 't'  value=\"yearly\">Yearly</option>\n                                <option name = 't'  value=\"recurring\">Recurring</option>\n                                </select>\n                            </div>\n                            {s(input.t)}\n                            </div>\n                        \n                            \n                            <div class=\"form-group\" className=\"mailbody\">\n                                <textarea class=\"form-control\" id=\"message\" name=\"mailbody\" rows=\"12\" placeholder=\"Click here to reply\" value={input.mailbody}\n                            onChange={handleChange}></textarea>\n                            </div>\n                            \n                            <div class=\"form-group\" className='send'>\t\n                                <button type=\"submit\" class=\"btn btn-success\" onClick={onSubmit}>Send</button>\n                                \n                            </div>\n                        </div>\t\n                </div>\t\n            </div>\t\n        </div>\n    </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}